{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LukeS\\\\Desktop\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Redirect } from \"react-router-dom\";\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [loginFormInput, setLoginFormInput] = useState({});\n\n  const handleInputChange = e => {\n    setLoginFormInput({ ...loginFormInput,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const login = e => {\n    e.preventDefault();\n    axiosWithAuth().post(\"http://localhost:5000/api/login\", loginFormInput).then(res => {\n      localStorage.setItem(\"token\", res.data.token);\n      return React.createElement(Redirect, {\n        to: \"/bubblepage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    onSubmit: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Username:\", \" \", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), \"Password:\", \" \", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Login\"), JSON.stringify(loginFormInput)));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/LukeS/Desktop/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","Redirect","Login","props","loginFormInput","setLoginFormInput","handleInputChange","e","target","name","value","login","preventDefault","post","then","res","localStorage","setItem","data","token","catch","err","console","log","JSON","stringify"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCN,QAAQ,CAAC,EAAD,CAApD;;AAEA,QAAMO,iBAAiB,GAAIC,CAAD,IAAO;AAC/BF,IAAAA,iBAAiB,CAAC,EAChB,GAAGD,cADa;AAEhB,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFV,KAAD,CAAjB;AAID,GALD;;AAOA,QAAMC,KAAK,GAAIJ,CAAD,IAAO;AACnBA,IAAAA,CAAC,CAACK,cAAF;AACAZ,IAAAA,aAAa,GACVa,IADH,CACQ,iCADR,EAC2CT,cAD3C,EAEGU,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,KAAvC;AACA,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KALH,EAMGC,KANH,CAMUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KARH;AASD,GAXD;;AAaA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAM,IAAA,QAAQ,EAAEV,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACY,GADZ,EAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,QAAQ,EAAEL,iBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGY,GAHZ,EAIE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,QAAQ,EAAEA,iBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANF,EAOGkB,IAAI,CAACC,SAAL,CAAerB,cAAf,CAPH,CAFF,CADF;AAcD,CAvCD;;AAyCA,eAAeF,KAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [loginFormInput, setLoginFormInput] = useState({});\r\n\r\n  const handleInputChange = (e) => {\r\n    setLoginFormInput({\r\n      ...loginFormInput,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const login = (e) => {\r\n    e.preventDefault();\r\n    axiosWithAuth()\r\n      .post(\"http://localhost:5000/api/login\", loginFormInput)\r\n      .then((res) => {\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        return <Redirect to=\"/bubblepage\" />;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1>Login</h1>\r\n      <form onSubmit={login}>\r\n        Username:{\" \"}\r\n        <input type=\"text\" name=\"username\" onChange={handleInputChange} />\r\n        Password:{\" \"}\r\n        <input type=\"password\" name=\"password\" onChange={handleInputChange} />\r\n        <br />\r\n        <button>Login</button>\r\n        {JSON.stringify(loginFormInput)}\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}